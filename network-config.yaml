#### network-config file - Centrailised TGW & Dedicated Tenant04 TGW - Multi REgion Multi Tenant ###########


homeRegion: &HOME_REGION us-east-1
#####################################
# Delete default VPCs-- use this    #
# object to delete default VPCs in  #
# any non-excluded accounts         #
#####################################
defaultVpc:
  delete: true
  excludeAccounts: []

##############################################
# Transit Gateways- Region - us-east-1 - use #
# this object to deploy transit gateways     #
##############################################

transitGateways:
  - name: atos-pcsaws-dev-tgw01-us-east-1
    account: Network
    region: *HOME_REGION
    shareTargets:
      organizationalUnits:
        - PCS
        - Infrastructure
    asn: 65521
    dnsSupport: enable
    vpnEcmpSupport: enable
    defaultRouteTableAssociation: disable
    defaultRouteTablePropagation: disable
    autoAcceptSharingAttachments: enable
    routeTables:
    #### TGW Route tables ####
      - name: Network-Main-Egress
        routes: []
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
            
      - name: Network-Main-Core
        routes: []
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
            
      - name: Network-Main-Spoke
        routes:
        ## default route for internet for us-east-1 region
          - destinationCidrBlock: 0.0.0.0/0
            attachment:
              vpcName: atos-pcsaws-dev-vpc00-us-east-1
              account: Network
        ## routes for us-west-1 region subnets
          - destinationCidrBlock: 10.136.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1              
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
            
      - name: Network-Main-MultiRegion-us-east-1
        routes:
        ## routes for us-west-1 region subnets
          - destinationCidrBlock: 10.136.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1              
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"

      - name: Network-Main-tnt03
        routes:
          - destinationCidrBlock: 0.0.0.0/0
            attachment:
              vpcName: atos-pcsaws-dev-vpc00-us-east-1
              account: Network
          - destinationCidrBlock: 10.136.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1            
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "CentralizedNetwork"
        value: "true"
            
##############################################
# Transit Gateways- Region - us-west-1 - use #
# this object to deploy transit gateways     #
##############################################
  - name: atos-pcsaws-dev-tgw01-us-west-1
    account: Network
    region: us-west-1
    shareTargets:
      organizationalUnits:
        - PCS
        - Infrastructure
    asn: 65522
    dnsSupport: enable
    vpnEcmpSupport: enable
    defaultRouteTableAssociation: disable
    defaultRouteTablePropagation: disable
    autoAcceptSharingAttachments: enable
    routeTables:
        #### TGW Route tables ####
      - name: Network-Main-Egress-us-west-1
        routes: []
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
      - name: Network-Main-Core-us-west-1
        routes: []
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"             
              
      - name: Network-Main-Spoke-us-west-1
        routes:
        ## default route to internet
          - destinationCidrBlock: 0.0.0.0/0
            attachment:
              vpcName: atos-pcsaws-dev-vpc100-us-west-1
              account: Network
        ## routes for us-east-1 region subnets      
          - destinationCidrBlock: 10.3.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.4.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.6.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.7.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.8.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1              
          - destinationCidrBlock: 10.48.0.0/16
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.36.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"

      - name: Network-Main-MultiRegion-us-west-1
        routes:
        ## routes for us-east-1 region subnets
          - destinationCidrBlock: 10.3.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.4.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.6.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1              
          - destinationCidrBlock: 10.7.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.8.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1              
          - destinationCidrBlock: 10.48.0.0/16
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
          - destinationCidrBlock: 10.36.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1              
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"

      - name: Network-Main-tnt03-us-west-1
        routes:
          - destinationCidrBlock: 0.0.0.0/0
            attachment:
              vpcName: atos-pcsaws-dev-vpc100-us-west-1
              account: Network      
          - destinationCidrBlock: 10.136.0.0/22
            attachment:
              transitGatewayPeeringName: atos-pcsaws-dev-us-east-1-to-us-west-1
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "CentralizedNetwork"
        value: "true"

##############################################
# Transit Gateways -Tenant04- Region - us-east-1 - use #
# this object to deploy transit gateways     #
##############################################

  - name: atos-pcsaws-dev-tnt04-tgw01-us-east-1
    account: Network
    region: *HOME_REGION
    shareTargets:
      organizationalUnits:
        - PCS
        - Infrastructure
    asn: 65523
    dnsSupport: enable
    vpnEcmpSupport: enable
    defaultRouteTableAssociation: disable
    defaultRouteTablePropagation: disable
    autoAcceptSharingAttachments: enable
    routeTables:
    #### TGW Route tables ####
      - name: Network-Main-Egress-tnt04 
        routes:
        ## default route for internet for us-east-1 region
          - destinationCidrBlock: 0.0.0.0/0
            attachment:
              vpcName: atos-pcsaws-dev-vpc10-us-east-1
              account: Network
          - destinationCidrBlock: 10.0.0.0/8
            attachment:
              vpcName: atos-pcsaws-dev-vpc12-us-east-1
              account: Network
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"

      - name: Network-Main-Spoke-tnt04
        routes:
        ## default route for internet for us-east-1 region
          - destinationCidrBlock: 0.0.0.0/0
            attachment:
              vpcName: atos-pcsaws-dev-vpc10-us-east-1
              account: Network
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"

      - name: Network-Main-tnt04
        routes:
          - destinationCidrBlock: 0.0.0.0/0
            attachment:
              vpcName: atos-pcsaws-dev-vpc10-us-east-1
              account: Network
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "CentralizedNetwork"
        value: "true"            

transitGatewayPeering:
    #### Peering between regions ####
  - name: atos-pcsaws-dev-us-east-1-to-us-west-1
    requester:
      transitGatewayName: atos-pcsaws-dev-tgw01-us-east-1
      account: Network
      region: us-east-1
      routeTableAssociations: Network-Main-MultiRegion-us-east-1
      autoAccept: false
      tags:
        - key: "AtosManaged"
          value: "true"
        - key: "CentralizedNetwork"
          value: "true"      
    accepter:
      transitGatewayName: atos-pcsaws-dev-tgw01-us-west-1
      account: Network
      region: us-west-1
      routeTableAssociations: Network-Main-MultiRegion-us-west-1
      autoAccept: true
      applyTags: false
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "CentralizedNetwork"
        value: "true"      

centralNetworkServices:
  delegatedAdminAccount: Network

endpointPolicies:
  - name: Default
    document: vpc-endpoint-policies/default.json
  - name: Ec2
    document: vpc-endpoint-policies/ec2.json

#########################################################
# vpc00- Region - us-east-1 - Egress/NAT/IGW VPC #
#########################################################
vpcs:
  - name: atos-pcsaws-dev-vpc00-us-east-1
    account: Network
    region: *HOME_REGION
    cidrs:
      - 10.0.0.0/22
    defaultSecurityGroupRulesDeletion: true
    internetGateway: true
    enableDnsHostnames: true
    enableDnsSupport: true
    instanceTenancy: default
    useCentralEndpoints: true

    gatewayEndpoints:
      defaultPolicy: Default
      endpoints:
        - service: s3
        - service: dynamodb

    natGateways:
    #### For internet traffic of Private Subnets ####
      - name: atos-pcsaws-dev-ngw00-us-east-1a
        subnet: atos-pcsaws-dev-vpc00-public-us-east-1a
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

    routeTables:
        #### Subnet wise route tables ####
      - name: atos-pcsaws-dev-vpc00-rt-private02-us-east-1a
        routes:
          - name: NatRoute
            destination: 0.0.0.0/0
            type: natGateway
            target: atos-pcsaws-dev-ngw00-us-east-1a
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

      - name: atos-pcsaws-dev-vpc00-rt-private01-us-east-1a
        routes:
          - name: NatRoute
            destination: 0.0.0.0/0
            type: natGateway
            target: atos-pcsaws-dev-ngw00-us-east-1a
          - name: TgwRoute
            destination: 10.0.0.0/8
            type: transitGateway
            target: atos-pcsaws-dev-tgw01-us-east-1
          - name: S3Gateway
            type: gatewayEndpoint
            target: s3
          - name: DynamoDBGateway
            type: gatewayEndpoint
            target: dynamodb
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

      - name: atos-pcsaws-dev-vpc00-rt-public-us-east-1a
        routes:
          - name: TgwRoute
            destination: 10.0.0.0/8
            type: transitGateway
            target: atos-pcsaws-dev-tgw01-us-east-1
          - name: IgwRoute
            destination: 0.0.0.0/0
            type: internetGateway
            target: IGW
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

    subnets:
        #### Private Subnet for Private instances ####
      - name: atos-pcsaws-dev-vpc00-private01-us-east-1a
        availabilityZone: 1
        routeTable: atos-pcsaws-dev-vpc00-rt-private01-us-east-1a
        ipv4CidrBlock: 10.0.0.0/24
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

        #### Private02 for TGW connect Subnet ####
      - name: atos-pcsaws-dev-vpc00-private02-us-east-1a
        availabilityZone: 1
        routeTable: atos-pcsaws-dev-vpc00-rt-private02-us-east-1a
        ipv4CidrBlock: 10.0.3.208/28
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

        #### Public Subnet for Web facing instances ####
      - name: atos-pcsaws-dev-vpc00-public-us-east-1a
        availabilityZone: 1
        routeTable: atos-pcsaws-dev-vpc00-rt-public-us-east-1a
        ipv4CidrBlock: 10.0.3.176/28
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

    transitGatewayAttachments:
      - name: atos-pcsaws-dev-vpc00-us-east-1
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            
        transitGateway:
          name: atos-pcsaws-dev-tgw01-us-east-1
          account: Network
        options:
          applianceModeSupport: enable
        routeTableAssociations:
          - Network-Main-Egress
        routeTablePropagations:
          - Network-Main-Spoke
          - Network-Main-Egress
          - Network-Main-tnt03          
        subnets:
          - atos-pcsaws-dev-vpc00-private02-us-east-1a

    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "CentralizedNetwork"
        value: "true"        
          
    networkAcls:
        - name: atos-pcsaws-vpc00-nacl-public
          subnetAssociations:
            - atos-pcsaws-dev-vpc00-public-us-east-1a
          inboundRules:
            - rule: 199
              protocol: 6
              fromPort: 1024
              toPort: 3388
              action: allow
              source: 0.0.0.0/0
            - rule: 200
              protocol: 6
              fromPort: 3390
              toPort: 65535
              action: allow
              source: 0.0.0.0/0
            - rule: 202
              protocol: 6
              fromPort: 443
              toPort: 443
              action: allow
              source: 0.0.0.0/0
          outboundRules:
            - rule: 100
              protocol: -1
              fromPort: -1
              toPort: -1
              action: allow
              destination: 0.0.0.0/0
          tags:
            - key: "AtosManaged"
              value: "true"
            - key: "CentralizedNetwork"
              value: "true"              

        - name: atos-pcsaws-vpc00-nacl-private01
          subnetAssociations:
            - atos-pcsaws-dev-vpc00-private01-us-east-1a
          inboundRules:
            - rule: 199
              protocol: 6
              fromPort: 1024
              toPort: 3388
              action: allow
              source: 0.0.0.0/0
            - rule: 200
              protocol: 6
              fromPort: 3390
              toPort: 65535
              action: allow
              source: 0.0.0.0/0
            - rule: 201
              protocol: 6
              fromPort: 80
              toPort: 80
              action: allow
              source: 10.0.0.0/8
            - rule: 202
              protocol: 6
              fromPort: 443
              toPort: 443
              action: allow
              source: 10.0.0.0/8
          outboundRules:
            - rule: 100
              protocol: -1
              fromPort: -1
              toPort: -1
              action: allow
              destination: 0.0.0.0/0
          tags:
            - key: "AtosManaged"
              value: "true"
            - key: "CentralizedNetwork"
              value: "true"              

################################################################
# vpc02- Region - us-east-1 - Endpoint VPC for S3,Dynamodb,etc #
################################################################

  - name: atos-pcsaws-dev-vpc02-us-east-1
    account: Network
    region: *HOME_REGION
    cidrs:
      - 10.2.0.0/22
    defaultSecurityGroupRulesDeletion: true
    internetGateway: false
    enableDnsHostnames: true
    enableDnsSupport: true
    instanceTenancy: default

    gatewayEndpoints:
      defaultPolicy: Default
      endpoints:
        - service: s3
        - service: dynamodb

    routeTables:
        #### Subnet wise route tables ####
      - name: atos-pcsaws-dev-vpc02-rt-private02-us-east-1a
        routes: []
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
            
      - name: atos-pcsaws-dev-vpc02-rt-private01-us-east-1a
        routes:
          - name: TgwRoute
            destination: 0.0.0.0/0
            type: transitGateway
            target: atos-pcsaws-dev-tgw01-us-east-1
          - name: S3Gateway
            type: gatewayEndpoint
            target: s3
          - name: DynamoDBGateway
            type: gatewayEndpoint
            target: dynamodb
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

    subnets:
        #### Private Subnet for Private instances ####
      - name: atos-pcsaws-dev-vpc02-private01-us-east-1a
        availabilityZone: 1
        routeTable: atos-pcsaws-dev-vpc02-rt-private01-us-east-1a
        ipv4CidrBlock: 10.2.0.0/24
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

        #### TGW connect Subnet ####
      - name: atos-pcsaws-dev-vpc02-private02-us-east-1a
        availabilityZone: 1
        routeTable: atos-pcsaws-dev-vpc02-rt-private02-us-east-1a
        ipv4CidrBlock: 10.2.3.208/28
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

    transitGatewayAttachments:
      - name: atos-pcsaws-dev-vpc02-us-east-1
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            
        transitGateway:
          name: atos-pcsaws-dev-tgw01-us-east-1
          account: Network
        routeTableAssociations:
          - Network-Main-Spoke
        routeTablePropagations:
          - Network-Main-Spoke
          - Network-Main-tnt03   
        subnets:
          - atos-pcsaws-dev-vpc02-private02-us-east-1a
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "CentralizedNetwork"
        value: "true"        

    interfaceEndpoints:
      central: true
      defaultPolicy: Default
      subnets:
        - atos-pcsaws-dev-vpc02-private01-us-east-1a
      endpoints:
        - service: ec2
        - service: ec2messages
        - service: athena
        - service: ssm
        - service: ssmmessages
        - service: kms
        - service: logs
        - service: backup-gateway
        - service: sts
        - service: secretsmanager

    networkAcls:
        - name: atos-pcsaws-vpc02-nacl-private01
          subnetAssociations:
            - atos-pcsaws-dev-vpc02-private01-us-east-1a
          inboundRules:
            - rule: 199
              protocol: 6
              fromPort: 1024
              toPort: 3388
              action: allow
              source: 0.0.0.0/0
            - rule: 200
              protocol: 6
              fromPort: 3390
              toPort: 65535
              action: allow
              source: 0.0.0.0/0
            - rule: 201
              protocol: 6
              fromPort: 0
              toPort: 65535
              action: allow
              source: 10.0.0.0/8
            - rule: 204
              protocol: 17
              fromPort: 0
              toPort: 65535
              action: allow
              source: 10.1.0.2/32
            - rule: 205
              protocol: 17
              fromPort: 0
              toPort: 65535
              action: allow
              source: 10.4.0.2/32
            - rule: 206
              protocol: 6
              fromPort: 444
              toPort: 444
              action: allow
              source: 10.0.0.0/8
          outboundRules:
            - rule: 100
              protocol: -1
              fromPort: -1
              toPort: -1
              action: allow
              destination: 0.0.0.0/0
          tags:
            - key: "AtosManaged"
              value: "true"
            - key: "CentralizedNetwork"
              value: "true"              

#################################################
# VPC03- Region - us-east-1 - SharedService VPC #
#################################################

  - name: atos-pcsaws-dev-vpc03-us-east-1
    account: Services
    region: *HOME_REGION
    cidrs:
      - 10.3.0.0/22
    defaultSecurityGroupRulesDeletion: true
    enableDnsHostnames: true
    enableDnsSupport: true
    instanceTenancy: default
    useCentralEndpoints: true

    gatewayEndpoints:
      defaultPolicy: Default
      endpoints:
        - service: s3
        - service: dynamodb

    routeTables:
        #### Subnet wise route tables ####
      - name: atos-pcsaws-dev-vpc03-rt-private02-us-east-1a
        routes: []
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            
            
      - name: atos-pcsaws-dev-vpc03-rt-private01-us-east-1a
        routes:
          - name: TgwRoute
            destination: 0.0.0.0/0
            type: transitGateway
            target: atos-pcsaws-dev-tgw01-us-east-1
          - name: TgwRouteTnt04
            destination: 10.37.0.0/22
            type: transitGateway
            target: atos-pcsaws-dev-tnt04-tgw01-us-east-1            
          - name: S3Gateway
            type: gatewayEndpoint
            target: s3
          - name: DynamoDBGateway
            type: gatewayEndpoint
            target: dynamodb
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"

    subnets:
        #### Private01 subnet is for restricted servers like PowerBI servers ####
      - name: atos-pcsaws-dev-vpc03-private01-us-east-1a
        availabilityZone: 1
        routeTable: atos-pcsaws-dev-vpc03-rt-private01-us-east-1a
        ipv4CidrBlock: 10.3.0.0/24
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

        #### TGW connect Subnet ####
      - name: atos-pcsaws-dev-vpc03-private02-us-east-1a
        availabilityZone: 1
        routeTable: atos-pcsaws-dev-vpc03-rt-private02-us-east-1a
        ipv4CidrBlock: 10.3.3.208/28
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            

    transitGatewayAttachments:
      - name: atos-pcsaws-dev-vpc03-us-east-1
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"
        transitGateway:
          name: atos-pcsaws-dev-tgw01-us-east-1
          account: Network
        routeTableAssociations:
          - Network-Main-Spoke
        routeTablePropagations:
          - Network-Main-Spoke
          - Network-Main-MultiRegion-us-east-1
          - Network-Main-tnt03
        subnets:
          - atos-pcsaws-dev-vpc03-private02-us-east-1a

      - name: atos-pcsaws-dev-tnt04-vpc03-us-east-1
        tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            
        transitGateway:
          name: atos-pcsaws-dev-tnt04-tgw01-us-east-1
          account: Network
        options:
          applianceModeSupport: enable
        routeTableAssociations:
          - Network-Main-Spoke-tnt04
        routeTablePropagations:
          - Network-Main-tnt04
        subnets:
          - atos-pcsaws-dev-vpc03-private02-us-east-1a

    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "CentralizedNetwork"
        value: "true"

    networkAcls:
        - name: atos-pcsaws-vpc03-nacl-private01-us-east-1
          subnetAssociations:
            - atos-pcsaws-dev-vpc03-private01-us-east-1a
          inboundRules:
            - rule: 199
              protocol: 6
              fromPort: 1024
              toPort: 3388
              action: allow
              source: 0.0.0.0/0
            - rule: 200
              protocol: 6
              fromPort: 3390
              toPort: 65535
              action: allow
              source: 0.0.0.0/0
          outboundRules:
            - rule: 100
              protocol: -1
              fromPort: -1
              toPort: -1
              action: allow
              destination: 0.0.0.0/0
          tags:
            - key: "AtosManaged"
              value: "true"
          
    securityGroups:
        - name: atos-pcsaws-vpc03-sg-priv
          tags:
          - key: "AtosManaged"
            value: "true"
          - key: "CentralizedNetwork"
            value: "true"            
          description: VPC03 Private segment security group
          inboundRules:
            - description: Remote access security group rule
              types:
                - ALL
              sources:
                - 10.0.0.0/8
          outboundRules:
            - description: Allow all outbound
              types:
                - ALL
              sources:
                - 0.0.0.0/0
