# AWS LZA Organization Configuration - Generated by Crossplane Platform
# If using AWS Control Tower, ensure that all the specified Organizational Units (OU)
# have been created and enrolled as the accelerator will verify that the OU layout
# matches before continuing to execute the deployment pipeline.

enable: true
organizationalUnits:
  - name: Infrastructure
  - name: PCS
  - name: Core
  - name: Infrastructure/Tnt0
  - name: Infrastructure/Tnt1
    ignore: true
  - name: Infrastructure/Tnt2
    ignore: true
  - name: Infrastructure/Tnt3
  - name: Infrastructure/Tnt4
  - name: Suspended
    ignore: true
  - name: Security
    ignore: true
  - name: Customer
    ignore: true
quarantineNewAccounts:
  enable: false
  scpPolicyName: "none"
serviceControlPolicies:
  - name: atos-pcsaws-customer-region-limit
    description: >
      A policy that limits the regions that can be used
    policy: service-control-policies/atos-pcsaws-customer-region-limit.json
    type: customerManaged
    deploymentTargets:
      organizationalUnits:
        - Infrastructure
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
  - name: atos-pcsaws-private02subnet
    description: >
      A policy that restricts all resource deployments except transit gateway in private02 subnet
    policy: service-control-policies/atos-pcsaws-private02subnet.json
    type: customerManaged
    deploymentTargets:
      organizationalUnits:
        - Root
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"      
taggingPolicies:
  - name: ToolingTagPolicy
    description: "PCS Tooling Tagging Policy"
    policy: tagging-policies/tooling-tag-policy.json
    deploymentTargets:
      organizationalUnits:
        - Root
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
  - name: ManagementTagPolicy
    description: "Management Tagging Policy"
    policy: tagging-policies/management-tag-policy.json
    deploymentTargets:
      organizationalUnits:
        - Infrastructure
        - PCS
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
  - name: BackupTagPolicy
    description: "Backup Tagging Policy"
    policy: tagging-policies/backup-tag-policy.json
    deploymentTargets:
      organizationalUnits:
        - Infrastructure
        - PCS
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
backupPolicies:
  - name: CustomerBackupPolicy
    description: "Customer Backup Policy"
    policy: backup-policies/customer-backup-plan.json
    deploymentTargets:
      organizationalUnits:
        - Infrastructure
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
  - name: Tnt0-BackupPolicy
    description: "Tenant0 Backup Policy"
    policy: backup-policies/Tnt0-backup-plan.json
    deploymentTargets:
      organizationalUnits:
        - Infrastructure/Tnt0
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
  - name: Tnt3-BackupPolicy
    description: "Tenant3 Backup Policy"
    policy: backup-policies/Tnt3-backup-plan.json
    deploymentTargets:
      organizationalUnits:
        - Infrastructure/Tnt3
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
  - name: PCSBackupPolicy
    description: "PCS Management Backup Policy"
    policy: backup-policies/pcs-backup-plan.json
    deploymentTargets:
      organizationalUnits:
        - PCS
    tags:
      - key: "AtosManaged"
        value: "true"
      - key: "pcstooling"
        value: "lza"
